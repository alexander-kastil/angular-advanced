<app-markdown-renderer [md]="'sf-optional-props'" />
<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title>Signal Forms - Optional Properties</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form autocomplete="off" column>
      <mat-form-field>
        <mat-label
          >Pet Name
          @if (petForm.petName().required()) {
            <span class="text-danger">*</span>
          }
        </mat-label>
        <input
          matInput
          type="text"
          [formField]="petForm.petName"
          placeholder="Pet name"
        />
      </mat-form-field>
      @if (petForm.petName().invalid() && petForm.petName().touched()) {
        @for (err of petForm.petName().errors(); track err.kind) {
          <div class="error">{{ err.message }}</div>
        }
      }

      <mat-form-field>
        <mat-label
          >Breed
          @if (petForm.breed().required()) {
            <span class="text-danger">*</span>
          }
        </mat-label>
        <input
          matInput
          type="text"
          [formField]="petForm.breed"
          placeholder="Breed"
        />
      </mat-form-field>
      @if (petForm.breed().invalid() && petForm.breed().touched()) {
        @for (err of petForm.breed().errors(); track err.kind) {
          <div class="error">{{ err.message }}</div>
        }
      }

      <mat-form-field>
        <mat-label>Microchip ID (optional)</mat-label>
        <input
          matInput
          type="text"
          [formField]="petForm.microchipId"
          placeholder="Microchip ID"
        />
      </mat-form-field>
      @if (petForm.microchipId().invalid() && petForm.microchipId().touched()) {
        @for (err of petForm.microchipId().errors(); track err.kind) {
          <div class="error">{{ err.message }}</div>
        }
      }

      <div class="form-actions">
        <button
          mat-raised-button
          color="primary"
          type="button"
          [disabled]="petForm().invalid()"
          (click)="onSubmit()"
        >
          Save
        </button>
        <button mat-stroked-button type="button" (click)="onCancel()">
          Cancel
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>

<div class="debug-section">
  <h3>Debug Info</h3>
  <pre>{{ petForm | json }}</pre>
  <pre>{{ petModel | json }}</pre>
</div>
