<app-markdown-renderer [md]="'nested-objects'" />

<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title>Signal Forms - Nested Objects</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <form role="form" novalidate column>
      <mat-form-field>
        <mat-label>Name</mat-label>
        <input
          matInput
          type="text"
          placeholder="Name"
          [formField]="personForm.name"
        />
      </mat-form-field>
      @if (personForm.name().touched() && personForm.name().invalid()) {
        @for (err of personForm.name().errors(); track err.kind) {
          <div class="error">{{ err.message }}</div>
        }
      }

      <mat-form-field>
        <mat-label>Last Name</mat-label>
        <input
          matInput
          type="text"
          placeholder="Last Name"
          [formField]="personForm.lastName"
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Age</mat-label>
        <input
          matInput
          type="number"
          placeholder="Age"
          [formField]="personForm.age"
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>E-Mail</mat-label>
        <input
          matInput
          type="text"
          placeholder="Email"
          [formField]="personForm.email"
        />
      </mat-form-field>

      <mat-form-field>
        <mat-label>Gender</mat-label>
        <mat-select placeholder="Gender" [formField]="personForm.gender">
          <mat-option value="male">Male</mat-option>
          <mat-option value="female">Female</mat-option>
          <mat-option value="not set">Not set</mat-option>
        </mat-select>
      </mat-form-field>

      <mat-radio-group
        name="wealthNested"
        [formField]="personForm.wealth"
        border
      >
        <mat-label>Wealth:</mat-label>
        @for (opt of wealthOpts; track opt) {
          <mat-radio-button [value]="opt">{{ opt }}</mat-radio-button>
        }
      </mat-radio-group>

      <div column>
        <h3>Address</h3>
        <mat-form-field>
          <mat-label>Street</mat-label>
          <input
            matInput
            type="text"
            placeholder="Street"
            [formField]="personForm.address.street"
          />
        </mat-form-field>
        @if (
          personForm.address.street().touched() &&
          personForm.address.street().invalid()
        ) {
          @for (err of personForm.address.street().errors(); track err.kind) {
            <div class="error">{{ err.message }}</div>
          }
        }

        <mat-form-field>
          <mat-label>Postal Code</mat-label>
          <input
            matInput
            type="text"
            placeholder="Postal Code"
            [formField]="personForm.address.postalCode"
          />
        </mat-form-field>

        <mat-form-field>
          <mat-label>City</mat-label>
          <input
            matInput
            type="text"
            placeholder="City"
            [formField]="personForm.address.city"
          />
        </mat-form-field>
      </div>

      <button
        mat-raised-button
        color="accent"
        type="button"
        (click)="savePerson()"
      >
        Submit
      </button>
    </form>
  </mat-card-content>
</mat-card>
