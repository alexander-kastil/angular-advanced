<app-markdown-renderer [md]="'validation-intro'" />
<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title>Signal Forms - Cross-Field Validation</mat-card-title>
  </mat-card-header>
  <mat-card-content column>
    <mat-form-field>
      <mat-label>Email</mat-label>
      <input type="email" matInput placeholder="Email Address" [formField]="registerForm.email" />
    </mat-form-field>
    @if (registerForm.email().touched() && registerForm.email().invalid()) {
      @for (err of registerForm.email().errors(); track err.kind) {
        <div class="error">{{ err.message }}</div>
      }
    }

    <mat-form-field>
      <mat-label>Password</mat-label>
      <input type="password" matInput placeholder="Password" [formField]="registerForm.password" />
    </mat-form-field>
    @if (registerForm.password().touched() && registerForm.password().invalid()) {
      @for (err of registerForm.password().errors(); track err.kind) {
        <div class="error">{{ err.message }}</div>
      }
    }

    <mat-form-field>
      <mat-label>Repeat Password</mat-label>
      <input type="password" matInput placeholder="Re-Enter Password" [formField]="registerForm.passwordRepeat" />
    </mat-form-field>
    @if (registerForm.passwordRepeat().touched() && registerForm.passwordRepeat().invalid()) {
      @for (err of registerForm.passwordRepeat().errors(); track err.kind) {
        <div class="error">{{ err.message }}</div>
      }
    }
  </mat-card-content>
  <mat-card-actions align="end">
    <button mat-raised-button type="button" color="primary" (click)="registerUser()">Register</button>
  </mat-card-actions>
</mat-card>

<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title>Password Field State</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    {{ registerForm.password().errors() | json }}
  </mat-card-content>
</mat-card>

<mat-card appearance="outlined">
  <mat-card-header>
    <mat-card-title>Form State</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    Valid: {{ registerForm().valid() }} | Touched: {{ registerForm().touched() }}
  </mat-card-content>
</mat-card>
